{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__attachBlocker",
    "item",
    "color",
    "opacity",
    "zIndex",
    "win",
    "qxWeb",
    "getWindow",
    "isDocument",
    "isElement",
    "__blocker",
    "div",
    "create",
    "insertBefore",
    "document",
    "body",
    "getChildren",
    "appendTo",
    "module",
    "Blocker",
    "__styleBlocker",
    "qItem",
    "styles",
    "display",
    "backgroundColor",
    "env",
    "get",
    "top",
    "left",
    "position",
    "width",
    "height",
    "pos",
    "getOffset",
    "getWidth",
    "getHeight",
    "setStyles",
    "__detachBlocker",
    "index",
    "remove",
    "__getBlocker",
    "collection",
    "blockerElements",
    "forEach",
    "concat",
    "members",
    "block",
    "unblock",
    "getBlocker",
    "defer",
    "$attachAll"
  ],
  "sources": [
    "/home/andresf/workspace_qooxdoo/qooxdoo/qooxdoo-7.0/source/class/qx/module/Blocker.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * Provides a way to block elements so they will no longer receive (native)\n * events by overlaying them with a DIV element.\n *\n * @require(qx.module.Environment)\n * @require(qx.module.Manipulating)\n * @require(qx.module.Traversing)\n * @require(qx.module.Css)\n * @require(qx.module.Attribute)\n */\nqx.Bootstrap.define(\"qx.module.Blocker\", {\n  statics: {\n    /**\n     * Attaches a blocker div to the given element.\n     *\n     * @param item {Element|Document} The element to be overlaid with the blocker\n     * @param color {String} The color for the blocker element (any CSS color value)\n     * @param opacity {Number} The CSS opacity value for the blocker\n     * @param zIndex {Number} The zIndex value for the blocker\n     */\n    __attachBlocker(item, color, opacity, zIndex) {\n      var win = qxWeb.getWindow(item);\n      var isDocument = qxWeb.isDocument(item);\n\n      if (!isDocument && !qxWeb.isElement(item)) {\n        return;\n      }\n\n      if (!item.__blocker) {\n        item.__blocker = {\n          div: qxWeb.create(\"<div class='qx-blocker' />\")\n        };\n      }\n\n      if (isDocument) {\n        item.__blocker.div.insertBefore(\n          qxWeb(win.document.body).getChildren(\":first\")\n        );\n      } else {\n        item.__blocker.div.appendTo(win.document.body);\n      }\n\n      qx.module.Blocker.__styleBlocker(\n        item,\n        color,\n        opacity,\n        zIndex,\n        isDocument\n      );\n    },\n\n    /**\n     * Styles the blocker element(s)\n     *\n     * @param item {Element|Document} The element to be overlaid with the blocker\n     * @param color {String} The color for the blocker element (any CSS color value)\n     * @param opacity {Number} The CSS opacity value for the blocker\n     * @param zIndex {Number} The zIndex value for the blocker\n     * @param isDocument {Boolean} Whether the item is a document node\n     */\n    __styleBlocker(item, color, opacity, zIndex, isDocument) {\n      var qItem = qxWeb(item);\n\n      var styles = {\n        display: \"block\"\n      };\n\n      styles.backgroundColor = typeof color !== \"undefined\" ? color : null;\n      styles.zIndex = typeof zIndex !== \"undefined\" ? zIndex : null;\n\n      if (\n        qxWeb.env.get(\"browser.name\") === \"ie\" &&\n        qxWeb.env.get(\"browser.version\") <= 8\n      ) {\n        styles.opacity = typeof opacity !== \"undefined\" ? opacity : 0;\n      } else {\n        styles.opacity = typeof opacity !== \"undefined\" ? opacity : null;\n      }\n\n      if (isDocument) {\n        styles.top = 0 + \"px\";\n        styles.left = 0 + \"px\";\n        styles.position = \"fixed\";\n        styles.width = \"100%\";\n        styles.height = \"100%\";\n      } else {\n        var pos = qItem.getOffset();\n        styles.top = pos.top + \"px\";\n        styles.left = pos.left + \"px\";\n        styles.position = \"absolute\";\n        styles.width = qItem.getWidth() + \"px\";\n        styles.height = qItem.getHeight() + \"px\";\n      }\n      item.__blocker.div.setStyles(styles);\n    },\n\n    /**\n     * Removes the given item's blocker element(s) from the DOM\n     *\n     * @param item {Element} Blocked element\n     * @param index {Number} index of the item in the collection\n     */\n    __detachBlocker(item, index) {\n      if (!item.__blocker) {\n        return;\n      }\n      item.__blocker.div.remove();\n    },\n\n    /**\n     * Returns the blocker elements as collection\n     *\n     * @param collection {qxWeb} Collection to get the blocker elements from\n     * @return {qxWeb} collection of blocker elements\n     */\n    __getBlocker(collection) {\n      var blockerElements = qxWeb();\n\n      collection.forEach(function (item, index) {\n        if (typeof item.__blocker !== \"undefined\") {\n          blockerElements = blockerElements.concat(item.__blocker.div);\n        }\n      });\n\n      return blockerElements;\n    }\n  },\n\n  members: {\n    /**\n     * Adds an overlay to all items in the collection that intercepts mouse\n     * events.\n     *\n     * @attach {qxWeb}\n     * @param color {String ? transparent} The color for the blocker element (any CSS color value)\n     * @param opacity {Number ? 0} The CSS opacity value for the blocker (floating point number from 0 to 1)\n     * @param zIndex {Number ? 10000} The zIndex value for the blocker\n     * @return {qxWeb} The collection for chaining\n     */\n    block(color, opacity, zIndex) {\n      if (!this[0]) {\n        return this;\n      }\n\n      this.forEach(function (item, index) {\n        qx.module.Blocker.__attachBlocker(item, color, opacity, zIndex);\n      });\n\n      return this;\n    },\n\n    /**\n     * Removes the blockers from all items in the collection\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} The collection for chaining\n     */\n    unblock() {\n      if (!this[0]) {\n        return this;\n      }\n\n      this.forEach(qx.module.Blocker.__detachBlocker);\n\n      return this;\n    },\n\n    /**\n     * Returns all blocker elements as collection.\n     *\n     * <strong>Note:</strong> This will only return elements if\n     * the <code>block</code> method was called at least once,\n     * since the blocker elements are created on-demand.\n     *\n     * @attach {qxWeb}\n     * @return {qxWeb} collection with all blocker elements\n     */\n    getBlocker() {\n      if (!this[0]) {\n        return this;\n      }\n\n      var collection = qx.module.Blocker.__getBlocker(this);\n      return collection;\n    }\n  },\n\n  defer(statics) {\n    qxWeb.$attachAll(this);\n  }\n});\n"
  ],
  "mappings": "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"
}