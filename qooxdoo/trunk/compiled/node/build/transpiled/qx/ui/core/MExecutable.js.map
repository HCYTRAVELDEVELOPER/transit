{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Mixin",
    "define",
    "events",
    "execute",
    "properties",
    "command",
    "check",
    "apply",
    "event",
    "nullable",
    "members",
    "__executableBindingIds",
    "__semaphore",
    "__executeListenerId",
    "_bindableProperties",
    "core",
    "Environment",
    "select",
    "true",
    "false",
    "cmd",
    "getCommand",
    "fireEvent",
    "__onCommandExecute",
    "e",
    "isEnabled",
    "_applyCommand",
    "value",
    "old",
    "removeListenerById",
    "addListener",
    "ids",
    "selfPropertyValue",
    "i",
    "length",
    "property",
    "isDisposed",
    "removeBinding",
    "Class",
    "hasProperty",
    "constructor",
    "cmdPropertyValue",
    "get",
    "$$resyncNeeded",
    "syncAppearance",
    "util",
    "PropertyUtil",
    "getThemeValue",
    "bind",
    "set",
    "destruct",
    "ui",
    "MExecutable"
  ],
  "sources": [
    "/home/andresf/workspace_qooxdoo/qooxdoo/qooxdoo-7.0/source/class/qx/ui/core/MExecutable.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Fabian Jakobs (fjakobs)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * This mixin is included by all widgets, which support an 'execute' like\n * buttons or menu entries.\n */\nqx.Mixin.define(\"qx.ui.core.MExecutable\", {\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events: {\n    /** Fired if the {@link #execute} method is invoked.*/\n    execute: \"qx.event.type.Event\"\n  },\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties: {\n    /**\n     * A command called if the {@link #execute} method is called, e.g. on a\n     * button tap.\n     */\n    command: {\n      check: \"qx.ui.command.Command\",\n      apply: \"_applyCommand\",\n      event: \"changeCommand\",\n      nullable: true\n    }\n  },\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members: {\n    __executableBindingIds: null,\n    __semaphore: false,\n    __executeListenerId: null,\n\n    /**\n     * @type {Map} Set of properties, which will by synced from the command to the\n     *    including widget\n     *\n     * @lint ignoreReferenceField(_bindableProperties)\n     */\n    _bindableProperties: qx.core.Environment.select(\"qx.command.bindEnabled\", {\n      true: [\"enabled\", \"label\", \"icon\", \"toolTipText\", \"value\", \"menu\"],\n\n      false: [\"label\", \"icon\", \"toolTipText\", \"value\", \"menu\"]\n    }),\n\n    /**\n     * Initiate the execute action.\n     */\n    execute() {\n      var cmd = this.getCommand();\n\n      if (cmd) {\n        if (this.__semaphore) {\n          this.__semaphore = false;\n        } else {\n          this.__semaphore = true;\n          cmd.execute(this);\n        }\n      }\n\n      this.fireEvent(\"execute\");\n    },\n\n    /**\n     * Handler for the execute event of the command.\n     *\n     * @param e {qx.event.type.Event} The execute event of the command.\n     */\n    __onCommandExecute(e) {\n      if (this.isEnabled()) {\n        if (this.__semaphore) {\n          this.__semaphore = false;\n          return;\n        }\n        if (this.isEnabled()) {\n          this.__semaphore = true;\n          this.execute();\n        }\n      }\n    },\n\n    // property apply\n    _applyCommand(value, old) {\n      // execute forwarding\n      if (old != null) {\n        old.removeListenerById(this.__executeListenerId);\n      }\n      if (value != null) {\n        this.__executeListenerId = value.addListener(\n          \"execute\",\n          this.__onCommandExecute,\n          this\n        );\n      }\n\n      // binding stuff\n      var ids = this.__executableBindingIds;\n      if (ids == null) {\n        this.__executableBindingIds = ids = {};\n      }\n\n      var selfPropertyValue;\n      for (var i = 0; i < this._bindableProperties.length; i++) {\n        var property = this._bindableProperties[i];\n\n        // remove the old binding\n        if (old != null && !old.isDisposed() && ids[property] != null) {\n          old.removeBinding(ids[property]);\n          ids[property] = null;\n        }\n\n        // add the new binding\n        if (value != null && qx.Class.hasProperty(this.constructor, property)) {\n          // handle the init value (don't sync the initial null)\n          var cmdPropertyValue = value.get(property);\n          if (cmdPropertyValue == null) {\n            selfPropertyValue = this.get(property);\n            // check also for themed values [BUG #5906]\n            if (selfPropertyValue == null) {\n              // update the appearance to make sure every themed property is up to date\n              this.$$resyncNeeded = true;\n              this.syncAppearance();\n              selfPropertyValue = qx.util.PropertyUtil.getThemeValue(\n                this,\n                property\n              );\n            }\n          } else {\n            // Reset the self property value [BUG #4534]\n            selfPropertyValue = null;\n          }\n          // set up the binding\n          ids[property] = value.bind(property, this, property);\n          // reapply the former value\n          if (selfPropertyValue) {\n            this.set(property, selfPropertyValue);\n          }\n        }\n      }\n    }\n  },\n\n  destruct() {\n    this._applyCommand(null, this.getCommand());\n    this.__executableBindingIds = null;\n  }\n});\n"
  ],
  "mappings": "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"
}