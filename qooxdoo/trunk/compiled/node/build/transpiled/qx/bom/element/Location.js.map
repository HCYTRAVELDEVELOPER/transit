{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__style",
    "elem",
    "style",
    "bom",
    "element",
    "Style",
    "get",
    "COMPUTED_MODE",
    "__num",
    "parseInt",
    "__computeScroll",
    "left",
    "top",
    "win",
    "dom",
    "Node",
    "getWindow",
    "Viewport",
    "getScrollLeft",
    "getScrollTop",
    "__computeBody",
    "core",
    "Environment",
    "select",
    "mshtml",
    "doc",
    "getDocument",
    "body",
    "clientLeft",
    "documentElement",
    "clientTop",
    "webkit",
    "offsetLeft",
    "offsetTop",
    "gecko",
    "BoxSizing",
    "default",
    "__computeOffset",
    "rect",
    "getBoundingClientRect",
    "Math",
    "round",
    "mode",
    "tagName",
    "location",
    "__getBodyLocation",
    "offset",
    "scroll",
    "elementWidth",
    "elementHeight",
    "SVGElement",
    "width",
    "height",
    "offsetWidth",
    "offsetHeight",
    "right",
    "bottom",
    "overX",
    "scrollWidth",
    "overY",
    "scrollHeight",
    "scrollLeft",
    "scrollTop",
    "getLeft",
    "getTop",
    "getRight",
    "getBottom",
    "getRelative",
    "elem1",
    "elem2",
    "mode1",
    "mode2",
    "loc1",
    "loc2",
    "getPosition",
    "getOffsetParent",
    "document",
    "offsetParent",
    "test",
    "Location"
  ],
  "sources": [
    "/home/andresf/workspace_qooxdoo/qooxdoo/qooxdoo-7.0/source/class/qx/bom/element/Location.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * jQuery Dimension Plugin\n       http://jquery.com/\n       Version 1.1.3\n\n     Copyright:\n       (c) 2007, Paul Bakaus & Brandon Aaron\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n     Authors:\n       Paul Bakaus\n       Brandon Aaron\n\n************************************************************************ */\n\n/**\n * Query the location of an arbitrary DOM element in relation to its top\n * level body element. Works in all major browsers:\n *\n * * Mozilla 1.5 + 2.0\n * * Internet Explorer 6.0 + 7.0 (both standard & quirks mode)\n * * Opera 9.2\n * * Safari 3.0 beta\n *\n * @ignore(SVGElement)\n */\nqx.Bootstrap.define(\"qx.bom.element.Location\", {\n  statics: {\n    /**\n     * Queries a style property for the given element\n     *\n     * @param elem {Element} DOM element to query\n     * @param style {String} Style property\n     * @return {String} Value of given style property\n     */\n    __style(elem, style) {\n      return qx.bom.element.Style.get(\n        elem,\n        style,\n        qx.bom.element.Style.COMPUTED_MODE,\n        false\n      );\n    },\n\n    /**\n     * Queries a style property for the given element and parses it to an integer value\n     *\n     * @param elem {Element} DOM element to query\n     * @param style {String} Style property\n     * @return {Integer} Value of given style property\n     */\n    __num(elem, style) {\n      return (\n        parseInt(\n          qx.bom.element.Style.get(\n            elem,\n            style,\n            qx.bom.element.Style.COMPUTED_MODE,\n            false\n          ),\n\n          10\n        ) || 0\n      );\n    },\n\n    /**\n     * Computes the scroll offset of the given element relative to the document\n     * <code>body</code>.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> scroll offsets\n     */\n    __computeScroll(elem) {\n      var left = 0,\n        top = 0;\n      // Find window\n      var win = qx.dom.Node.getWindow(elem);\n\n      left -= qx.bom.Viewport.getScrollLeft(win);\n      top -= qx.bom.Viewport.getScrollTop(win);\n\n      return {\n        left: left,\n        top: top\n      };\n    },\n\n    /**\n     * Computes the offset of the given element relative to the document\n     * <code>body</code>.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> offsets\n     */\n    __computeBody: qx.core.Environment.select(\"engine.name\", {\n      mshtml(elem) {\n        // Find body element\n        var doc = qx.dom.Node.getDocument(elem);\n        var body = doc.body;\n\n        var left = 0;\n        var top = 0;\n\n        left -= body.clientLeft + doc.documentElement.clientLeft;\n        top -= body.clientTop + doc.documentElement.clientTop;\n\n        if (!qx.core.Environment.get(\"browser.quirksmode\")) {\n          left += this.__num(body, \"borderLeftWidth\");\n          top += this.__num(body, \"borderTopWidth\");\n        }\n\n        return {\n          left: left,\n          top: top\n        };\n      },\n\n      webkit(elem) {\n        // Find body element\n        var doc = qx.dom.Node.getDocument(elem);\n        var body = doc.body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        return {\n          left: left,\n          top: top\n        };\n      },\n\n      gecko(elem) {\n        // Find body element\n        var body = qx.dom.Node.getDocument(elem).body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        // Correct substracted border (only in content-box mode)\n        if (qx.bom.element.BoxSizing.get(body) !== \"border-box\") {\n          left += this.__num(body, \"borderLeftWidth\");\n          top += this.__num(body, \"borderTopWidth\");\n        }\n\n        return {\n          left: left,\n          top: top\n        };\n      },\n\n      // At the moment only correctly supported by Opera\n      default(elem) {\n        // Find body element\n        var body = qx.dom.Node.getDocument(elem).body;\n\n        // Start with the offset\n        var left = body.offsetLeft;\n        var top = body.offsetTop;\n\n        return {\n          left: left,\n          top: top\n        };\n      }\n    }),\n\n    /**\n     * Computes the sum of all offsets of the given element node.\n     *\n     * @signature function(elem)\n     * @param elem {Element} DOM element to query\n     * @return {Map} Map which contains the <code>left</code> and <code>top</code> offsets\n     */\n    __computeOffset(elem) {\n      var rect = elem.getBoundingClientRect();\n\n      // Firefox 3.0 alpha 6 (gecko 1.9) returns floating point numbers\n      // use Math.round() to round them to style compatible numbers\n      // MSHTML returns integer numbers\n      return {\n        left: Math.round(rect.left),\n        top: Math.round(rect.top)\n      };\n    },\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions.\n     *\n     * Supported modes:\n     *\n     * * <code>margin</code>: Calculate from the margin box of the element (bigger than the visual appearance: including margins of given element)\n     * * <code>box</code>: Calculates the offset box of the element (default, uses the same size as visible)\n     * * <code>border</code>: Calculate the border box (useful to align to border edges of two elements).\n     * * <code>scroll</code>: Calculate the scroll box (relevant for absolute positioned content).\n     * * <code>padding</code>: Calculate the padding box (relevant for static/relative positioned content).\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String?box} A supported option. See comment above.\n     * @return {Map} Returns a map with <code>left</code>, <code>top</code>,\n     *   <code>right</code> and <code>bottom</code> which contains the distance\n     *   of the element relative to the document.\n     */\n    get(elem, mode) {\n      if (elem.tagName == \"BODY\") {\n        var location = this.__getBodyLocation(elem);\n        var left = location.left;\n        var top = location.top;\n      } else {\n        var body = this.__computeBody(elem);\n        var offset = this.__computeOffset(elem);\n        // Reduce by viewport scrolling.\n        // Hint: getBoundingClientRect returns the location of the\n        // element in relation to the viewport which includes\n        // the scrolling\n        var scroll = this.__computeScroll(elem);\n\n        var left = offset.left + body.left - scroll.left;\n        var top = offset.top + body.top - scroll.top;\n      }\n\n      var elementWidth;\n      var elementHeight;\n      if (elem instanceof SVGElement) {\n        var rect = elem.getBoundingClientRect();\n        elementWidth = rect.width;\n        elementHeight = rect.height;\n      } else {\n        elementWidth = elem.offsetWidth;\n        elementHeight = elem.offsetHeight;\n      }\n\n      var right = left + elementWidth;\n      var bottom = top + elementHeight;\n\n      if (mode) {\n        // In this modes we want the size as seen from a child what means that we want the full width/height\n        // which may be higher than the outer width/height when the element has scrollbars.\n        if (mode == \"padding\" || mode == \"scroll\") {\n          var overX = qx.bom.element.Style.get(elem, \"overflowX\");\n          if (overX == \"scroll\" || overX == \"auto\") {\n            right +=\n              elem.scrollWidth -\n              elementWidth +\n              this.__num(elem, \"borderLeftWidth\") +\n              this.__num(elem, \"borderRightWidth\");\n          }\n\n          var overY = qx.bom.element.Style.get(elem, \"overflowY\");\n          if (overY == \"scroll\" || overY == \"auto\") {\n            bottom +=\n              elem.scrollHeight -\n              elementHeight +\n              this.__num(elem, \"borderTopWidth\") +\n              this.__num(elem, \"borderBottomWidth\");\n          }\n        }\n\n        switch (mode) {\n          case \"padding\":\n            left += this.__num(elem, \"paddingLeft\");\n            top += this.__num(elem, \"paddingTop\");\n            right -= this.__num(elem, \"paddingRight\");\n            bottom -= this.__num(elem, \"paddingBottom\");\n          // no break here\n\n          case \"scroll\":\n            left -= elem.scrollLeft;\n            top -= elem.scrollTop;\n            right -= elem.scrollLeft;\n            bottom -= elem.scrollTop;\n          // no break here\n\n          case \"border\":\n            left += this.__num(elem, \"borderLeftWidth\");\n            top += this.__num(elem, \"borderTopWidth\");\n            right -= this.__num(elem, \"borderRightWidth\");\n            bottom -= this.__num(elem, \"borderBottomWidth\");\n            break;\n\n          case \"margin\":\n            left -= this.__num(elem, \"marginLeft\");\n            top -= this.__num(elem, \"marginTop\");\n            right += this.__num(elem, \"marginRight\");\n            bottom += this.__num(elem, \"marginBottom\");\n            break;\n        }\n      }\n\n      return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      };\n    },\n\n    /**\n     * Get the location of the body element relative to the document.\n     * @param body {Element} The body element.\n     * @return {Map} map with the keys <code>left</code> and <code>top</code>\n     */\n    __getBodyLocation(body) {\n      var top = body.offsetTop;\n      var left = body.offsetLeft;\n\n      top += this.__num(body, \"marginTop\");\n      left += this.__num(body, \"marginLeft\");\n\n      if (qx.core.Environment.get(\"engine.name\") === \"gecko\") {\n        top += this.__num(body, \"borderLeftWidth\");\n        left += this.__num(body, \"borderTopWidth\");\n      }\n\n      return { left: left, top: top };\n    },\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The left distance\n     *   of the element relative to the document.\n     */\n    getLeft(elem, mode) {\n      return this.get(elem, mode).left;\n    },\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The top distance\n     *   of the element relative to the document.\n     */\n    getTop(elem, mode) {\n      return this.get(elem, mode).top;\n    },\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The right distance\n     *   of the element relative to the document.\n     */\n    getRight(elem, mode) {\n      return this.get(elem, mode).right;\n    },\n\n    /**\n     * Computes the location of the given element in context of\n     * the document dimensions. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem {Element} DOM element to query\n     * @param mode {String} A supported option. See comment above.\n     * @return {Integer} The bottom distance\n     *   of the element relative to the document.\n     */\n    getBottom(elem, mode) {\n      return this.get(elem, mode).bottom;\n    },\n\n    /**\n     * Returns the distance between two DOM elements. For supported modes please\n     * have a look at the {@link qx.bom.element.Location#get} method.\n     *\n     * @param elem1 {Element} First element\n     * @param elem2 {Element} Second element\n     * @param mode1 {String?null} Mode for first element\n     * @param mode2 {String?null} Mode for second element\n     * @return {Map} Returns a map with <code>left</code> and <code>top</code>\n     *   which contains the distance of the elements from each other.\n     */\n    getRelative(elem1, elem2, mode1, mode2) {\n      var loc1 = this.get(elem1, mode1);\n      var loc2 = this.get(elem2, mode2);\n\n      return {\n        left: loc1.left - loc2.left,\n        top: loc1.top - loc2.top,\n        right: loc1.right - loc2.right,\n        bottom: loc1.bottom - loc2.bottom\n      };\n    },\n\n    /**\n     * Returns the distance between the given element to its offset parent.\n     *\n     * @param elem {Element} DOM element to query\n     * @return {Map} Returns a map with <code>left</code> and <code>top</code>\n     *   which contains the distance of the elements from each other.\n     */\n    getPosition(elem) {\n      return this.getRelative(elem, this.getOffsetParent(elem));\n    },\n\n    /**\n     * Detects the offset parent of the given element\n     *\n     * @param element {Element} Element to query for offset parent\n     * @return {Element} Detected offset parent\n     */\n    getOffsetParent(element) {\n      // Ther is no offsetParent for SVG elements\n      if (element instanceof SVGElement) {\n        return document.body;\n      }\n\n      var offsetParent = element.offsetParent || document.body;\n      var Style = qx.bom.element.Style;\n\n      while (\n        offsetParent &&\n        !/^body|html$/i.test(offsetParent.tagName) &&\n        Style.get(offsetParent, \"position\") === \"static\"\n      ) {\n        offsetParent = offsetParent.offsetParent;\n      }\n\n      return offsetParent;\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}