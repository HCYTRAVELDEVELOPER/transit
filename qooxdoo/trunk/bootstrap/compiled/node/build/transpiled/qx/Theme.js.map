{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "name",
    "config",
    "include",
    "__normalizeArray",
    "patch",
    "theme",
    "$$type",
    "title",
    "toString",
    "genericToString",
    "extend",
    "supertheme",
    "basename",
    "createNamespace",
    "__convert",
    "__initializeAliases",
    "$$registry",
    "i",
    "a",
    "l",
    "length",
    "boot",
    "objectOrArray",
    "isArray",
    "aliases",
    "objectMergeWith",
    "getAll",
    "getByName",
    "isDefined",
    "undefined",
    "getTotalNumber",
    "objectGetLength",
    "__extractType",
    "keys",
    "__inheritableKeys",
    "type",
    "clazz",
    "prototype",
    "$$clazz",
    "target",
    "source",
    "id",
    "base",
    "__allowedKeys",
    "core",
    "Environment",
    "select",
    "true",
    "colors",
    "borders",
    "decorations",
    "fonts",
    "icons",
    "widgets",
    "appearances",
    "meta",
    "default",
    "__metaKeys",
    "color",
    "border",
    "decoration",
    "font",
    "icon",
    "appearance",
    "widget",
    "__validateConfig",
    "allowed",
    "key",
    "Error",
    "maps",
    "Array",
    "RegExp",
    "Date",
    "classname",
    "counter",
    "value",
    "mixinTheme",
    "__checkForInvalidTheme",
    "errorObj",
    "Theme"
  ],
  "sources": [
    "/home/andresf/workspace_qooxdoo/qooxdoo/qooxdoo-7.0/source/class/qx/Theme.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n\n************************************************************************ */\n\n/**\n * Theme classes contain styling information for certain aspects of the\n * graphical user interface.\n *\n * Supported themes are: colors, decorations, fonts, icons, appearances.\n * The additional meta theme allows for grouping of the individual\n * themes.\n *\n * For more details, take a look at the\n * <a href='http://qooxdoo.org/docs/#desktop/gui/theming.md' target='_blank'>\n * documentation of the theme system in the qooxdoo manual.</a>\n */\nqx.Bootstrap.define(\"qx.Theme\", {\n  statics: {\n    /*\n    ---------------------------------------------------------------------------\n       PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Theme config\n     *\n     * Example:\n     * <pre class='javascript'>\n     * qx.Theme.define(\"name\",\n     * {\n     *   aliases : {\n     *     \"aliasKey\" : \"resourceFolderOrUri\"\n     *   },\n     *   extend : otherTheme,\n     *   include : [MMixinTheme],\n     *   patch : [MMixinTheme],\n     *   colors : {},\n     *   decorations : {},\n     *   fonts : {},\n     *   widgets : {},\n     *   appearances : {},\n     *   meta : {},\n     *   boot : function(){}\n     * });\n     * </pre>\n     *\n     * For more details, take a look at the\n     * <a href='http://qooxdoo.org/docs/#desktop/gui/theming.md' target='_blank'>\n     * documentation of the theme system in the qooxdoo manual.</a>\n     *\n     * @param name {String} name of the mixin\n     * @param config {Map} config structure\n     */\n    define(name, config) {\n      if (!config) {\n        var config = {};\n      }\n\n      config.include = this.__normalizeArray(config.include);\n      config.patch = this.__normalizeArray(config.patch);\n\n      // Validate incoming data\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.__validateConfig(name, config);\n      }\n\n      // Create alias\n      var theme = {\n        $$type: \"Theme\",\n        name: name,\n        title: config.title,\n\n        // Attach toString\n        toString: this.genericToString\n      };\n\n      // Remember extend\n      if (config.extend) {\n        theme.supertheme = config.extend;\n      }\n\n      // Assign to namespace\n      theme.basename = qx.Bootstrap.createNamespace(name, theme);\n\n      // Convert theme entry from Object to Function (for prototype inheritance)\n      this.__convert(theme, config);\n\n      this.__initializeAliases(theme, config);\n\n      // Store class reference in global class registry\n      this.$$registry[name] = theme;\n\n      // Include mixin themes\n      for (var i = 0, a = config.include, l = a.length; i < l; i++) {\n        this.include(theme, a[i]);\n      }\n\n      for (var i = 0, a = config.patch, l = a.length; i < l; i++) {\n        this.patch(theme, a[i]);\n      }\n\n      // Run boot code\n      if (config.boot) {\n        config.boot();\n      }\n    },\n\n    /**\n     * Normalize an object to an array\n     *\n     * @param objectOrArray {Object|Array} Either an object that is to be\n     *   normalized to an array, or an array, which is just passed through\n     *\n     * @return {Array} Either an array that has the original object as its\n     *   single item, or the original array itself\n     */\n    __normalizeArray(objectOrArray) {\n      if (!objectOrArray) {\n        return [];\n      }\n\n      if (qx.Bootstrap.isArray(objectOrArray)) {\n        return objectOrArray;\n      } else {\n        return [objectOrArray];\n      }\n    },\n\n    /**\n     * Initialize alias inheritance\n     *\n     * @param theme {Map} The theme\n     * @param config {Map} config structure\n     */\n    __initializeAliases(theme, config) {\n      var aliases = config.aliases || {};\n      if (config.extend && config.extend.aliases) {\n        qx.Bootstrap.objectMergeWith(aliases, config.extend.aliases, false);\n      }\n\n      theme.aliases = aliases;\n    },\n\n    /**\n     * Return a map of all known themes\n     *\n     * @return {Map} known themes\n     */\n    getAll() {\n      return this.$$registry;\n    },\n\n    /**\n     * Returns a theme by name\n     *\n     * @param name {String} theme name to check\n     * @return {Object ? void} theme object\n     */\n    getByName(name) {\n      return this.$$registry[name];\n    },\n\n    /**\n     * Determine if theme exists\n     *\n     * @param name {String} theme name to check\n     * @return {Boolean} true if theme exists\n     */\n    isDefined(name) {\n      return this.getByName(name) !== undefined;\n    },\n\n    /**\n     * Determine the number of themes which are defined\n     *\n     * @return {Number} the number of classes\n     */\n    getTotalNumber() {\n      return qx.Bootstrap.objectGetLength(this.$$registry);\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n       PRIVATE/INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * This method will be attached to all themes to return\n     * a nice identifier for them.\n     *\n     * @internal\n     * @return {String} The interface identifier\n     */\n    genericToString() {\n      return \"[Theme \" + this.name + \"]\";\n    },\n\n    /**\n     * Extract the inheritable key (could be only one)\n     *\n     * @param config {Map} The map from where to extract the key\n     * @return {String} the key which was found\n     */\n    __extractType(config) {\n      for (\n        var i = 0, keys = this.__inheritableKeys, l = keys.length;\n        i < l;\n        i++\n      ) {\n        if (config[keys[i]]) {\n          return keys[i];\n        }\n      }\n    },\n\n    /**\n     * Convert existing entry to a prototype based inheritance function\n     *\n     * @param theme {Theme} newly created theme object\n     * @param config {Map} incoming theme configuration\n     */\n    __convert(theme, config) {\n      var type = this.__extractType(config);\n\n      // Use theme key from extended theme if own one is not available\n      if (config.extend && !type) {\n        type = config.extend.type;\n      }\n\n      // Save theme type\n      theme.type = type || \"other\";\n\n      // Create pseudo class\n      var clazz = function () {};\n\n      // Process extend config\n      if (config.extend) {\n        clazz.prototype = new config.extend.$$clazz();\n      }\n\n      var target = clazz.prototype;\n      var source = config[type];\n\n      // Copy entries to prototype\n      for (var id in source) {\n        target[id] = source[id];\n\n        // Appearance themes only:\n        // Convert base flag to class reference (needed for mixin support)\n        if (target[id].base) {\n          if (qx.core.Environment.get(\"qx.debug\")) {\n            if (!config.extend) {\n              throw new Error(\n                \"Found base flag in entry '\" +\n                  id +\n                  \"' of theme '\" +\n                  config.name +\n                  \"'. Base flags are not allowed for themes without a valid super theme!\"\n              );\n            }\n          }\n\n          target[id].base = config.extend;\n        }\n      }\n\n      // store pseudo class\n      theme.$$clazz = clazz;\n\n      // and create instance under the old key\n      theme[type] = new clazz();\n    },\n\n    /** @type {Map} Internal theme registry */\n    $$registry: {},\n\n    /** @type {Array} Keys which support inheritance */\n    __inheritableKeys: [\n      \"colors\",\n      \"borders\",\n      \"decorations\",\n      \"fonts\",\n      \"icons\",\n      \"widgets\",\n      \"appearances\",\n      \"meta\"\n    ],\n\n    /** @type {Map} allowed keys in theme definition */\n    __allowedKeys: qx.core.Environment.select(\"qx.debug\", {\n      true: {\n        title: \"string\", // String\n        aliases: \"object\", // Map\n        type: \"string\", // String\n        extend: \"object\", // Theme\n        colors: \"object\", // Map\n        borders: \"object\", // Map\n        decorations: \"object\", // Map\n        fonts: \"object\", // Map\n        icons: \"object\", // Map\n        widgets: \"object\", // Map\n        appearances: \"object\", // Map\n        meta: \"object\", // Map\n        include: \"object\", // Array\n        patch: \"object\", // Array\n        boot: \"function\" // Function\n      },\n\n      default: null\n    }),\n\n    /** @type {Map} allowed keys inside a meta theme block */\n    __metaKeys: qx.core.Environment.select(\"qx.debug\", {\n      true: {\n        color: \"object\",\n        border: \"object\",\n        decoration: \"object\",\n        font: \"object\",\n        icon: \"object\",\n        appearance: \"object\",\n        widget: \"object\"\n      },\n\n      default: null\n    }),\n\n    /**\n     * Validates incoming configuration and checks keys and values\n     *\n     * @signature function(name, config)\n     * @param name {String} The name of the class\n     * @param config {Map} Configuration map\n     * @throws {Error} if the given config is not valid (e.g. wrong key or wrong key value)\n     */\n    __validateConfig: qx.core.Environment.select(\"qx.debug\", {\n      true(name, config) {\n        var allowed = this.__allowedKeys;\n        for (var key in config) {\n          if (allowed[key] === undefined) {\n            throw new Error(\n              'The configuration key \"' +\n                key +\n                '\" in theme \"' +\n                name +\n                '\" is not allowed!'\n            );\n          }\n\n          if (config[key] == null) {\n            throw new Error(\n              'Invalid key \"' +\n                key +\n                '\" in theme \"' +\n                name +\n                '\"! The value is undefined/null!'\n            );\n          }\n\n          if (allowed[key] !== null && typeof config[key] !== allowed[key]) {\n            throw new Error(\n              'Invalid type of key \"' +\n                key +\n                '\" in theme \"' +\n                name +\n                '\"! The type of the key must be \"' +\n                allowed[key] +\n                '\"!'\n            );\n          }\n        }\n\n        // Validate maps\n        var maps = [\n          \"colors\",\n          \"borders\",\n          \"decorations\",\n          \"fonts\",\n          \"icons\",\n          \"widgets\",\n          \"appearances\",\n          \"meta\"\n        ];\n\n        for (var i = 0, l = maps.length; i < l; i++) {\n          var key = maps[i];\n\n          if (\n            config[key] !== undefined &&\n            (config[key] instanceof Array ||\n              config[key] instanceof RegExp ||\n              config[key] instanceof Date ||\n              config[key].classname !== undefined)\n          ) {\n            throw new Error(\n              'Invalid key \"' +\n                key +\n                '\" in theme \"' +\n                name +\n                '\"! The value needs to be a map!'\n            );\n          }\n        }\n\n        // Check conflicts (detect number ...)\n        var counter = 0;\n        for (var i = 0, l = maps.length; i < l; i++) {\n          var key = maps[i];\n\n          if (config[key]) {\n            counter++;\n          }\n\n          if (counter > 1) {\n            throw new Error(\n              \"You can only define one theme category per file! Invalid theme: \" +\n                name\n            );\n          }\n        }\n\n        // Validate meta\n        if (config.meta) {\n          var value;\n          for (var key in config.meta) {\n            value = config.meta[key];\n\n            if (this.__metaKeys[key] === undefined) {\n              throw new Error(\n                'The key \"' +\n                  key +\n                  '\" is not allowed inside a meta theme block.'\n              );\n            }\n\n            if (typeof value !== this.__metaKeys[key]) {\n              throw new Error(\n                'The type of the key \"' +\n                  key +\n                  '\" inside the meta block is wrong.'\n              );\n            }\n\n            if (\n              !(\n                typeof value === \"object\" &&\n                value !== null &&\n                value.$$type === \"Theme\"\n              )\n            ) {\n              throw new Error(\n                'The content of a meta theme must reference to other themes. The value for \"' +\n                  key +\n                  '\" in theme \"' +\n                  name +\n                  '\" is invalid: ' +\n                  value\n              );\n            }\n          }\n        }\n\n        // Validate extend\n        if (config.extend && config.extend.$$type !== \"Theme\") {\n          throw new Error(\n            'Invalid extend in theme \"' + name + '\": ' + config.extend\n          );\n        }\n\n        // Validate include\n        if (config.include) {\n          for (var i = 0, l = config.include.length; i < l; i++) {\n            if (\n              typeof config.include[i] == \"undefined\" ||\n              config.include[i].$$type !== \"Theme\"\n            ) {\n              throw new Error(\n                'Invalid include in theme \"' + name + '\": ' + config.include[i]\n              );\n            }\n          }\n        }\n\n        // Validate patch\n        if (config.patch) {\n          for (var i = 0, l = config.patch.length; i < l; i++) {\n            if (\n              typeof config.patch[i] === \"undefined\" ||\n              config.patch[i].$$type !== \"Theme\"\n            ) {\n              throw new Error(\n                'Invalid patch in theme \"' + name + '\": ' + config.patch[i]\n              );\n            }\n          }\n        }\n      },\n\n      default() {}\n    }),\n\n    /**\n     * Include all keys of the given mixin theme into the theme. The mixin may\n     * include keys which are already defined in the target theme. Existing\n     * features of equal name will be overwritten.\n     *\n     * @param theme {Theme} An existing theme which should be modified by including the mixin theme.\n     * @param mixinTheme {Theme} The theme to be included.\n     */\n    patch(theme, mixinTheme) {\n      this.__checkForInvalidTheme(mixinTheme);\n\n      var type = this.__extractType(mixinTheme);\n      if (type !== this.__extractType(theme)) {\n        throw new Error(\n          \"The mixins '\" +\n            theme.name +\n            \"' are not compatible '\" +\n            mixinTheme.name +\n            \"'!\"\n        );\n      }\n\n      var source = mixinTheme[type];\n      var target = theme.$$clazz.prototype;\n\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    },\n\n    /**\n     * Include all keys of the given mixin theme into the theme. If the\n     * mixin includes any keys that are already available in the\n     * class, they will be silently ignored. Use the {@link #patch} method\n     * if you need to overwrite keys in the current class.\n     *\n     * @param theme {Theme} An existing theme which should be modified by including the mixin theme.\n     * @param mixinTheme {Theme} The theme to be included.\n     */\n    include(theme, mixinTheme) {\n      this.__checkForInvalidTheme(mixinTheme);\n\n      var type = mixinTheme.type;\n      if (type !== theme.type) {\n        throw new Error(\n          \"The mixins '\" +\n            theme.name +\n            \"' are not compatible '\" +\n            mixinTheme.name +\n            \"'!\"\n        );\n      }\n\n      var source = mixinTheme[type];\n      var target = theme.$$clazz.prototype;\n\n      for (var key in source) {\n        //Skip keys already present\n        if (target[key] !== undefined) {\n          continue;\n        }\n\n        target[key] = source[key];\n      }\n    },\n\n    /**\n     * Helper method to check for an invalid theme\n     *\n     * @param mixinTheme {qx.Theme?null} theme to check\n     * @throws {Error} if the theme is not valid\n     */\n    __checkForInvalidTheme(mixinTheme) {\n      if (typeof mixinTheme === \"undefined\" || mixinTheme == null) {\n        var errorObj = new Error(\"Mixin theme is not a valid theme!\");\n\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          var stackTrace = qx.dev.StackTrace.getStackTraceFromError(errorObj);\n          qx.Bootstrap.error(this, stackTrace);\n        }\n\n        throw errorObj;\n      }\n    }\n  }\n});\n"
  ],
  "mappings": "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"
}